# การทดลองที่ ๖ เรื่อง การเขียนโปรแกรมสร้างไวไฟแอคเซสพอยต์ (Wifi AP)

## วัตถุประสงค์
1. เพื่อศึกษาการเขียนโปรแกรมสร้างไวไฟแอคเซสพอยต์ (Wifi AP)

## อุปกรณ์ที่ใช้
1. ไมโครคอนโทรเลอร์
2. อุปกรณ์ USB to Serial
3. CPU
4. ตัวโปรแกรมสร้างไวไฟแอคเซสพอยต์ (Wifi AP)(06_Wifi-AP-Web-Server)

## ศึกษาข้อมูลเบื้องต้น
1. 06 run wiri AP : https://youtu.be/T26DVHePlTs
2. src code ของโปรแกรมสร้างไวไฟแอคเซสพอยต์ (Wifi AP)(06_Wifi-AP-Web-Server) : https://github.com/choompol-boonmee/lab63b/blob/master/examples/06_Wifi-AP-Web-Server/src/main.cpp

## วิธีการทำการทดลอง
1. นำไมโครคอนโทรเลอร์ไปต่ออุปกรณ์ USB to Serial แล้วเปิด command prompt เพื่อเขียนโปรแกรมเข้าไปในไมโครคอนโทรเลอร์

![image](https://github.com/Nongpim/picture/blob/main/1%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88.jpg) 
![image](https://github.com/Nongpim/picture/blob/main/2%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88.jpg)

2. ดูตัวอย่างโปรแกรมที่จะเขียนในโฟลเดอร์ pattani
    * 2.1 พิมพ์คำสั่ง cd pattani เพื่อที่จะเข้าไปยังโฟลเดอร์
      * 2.1.1 ซึ่งในการทดลองนี้จะให้ใช้โปรแกรมตัวอย่างที่ 2 พิมพ์คำสั่ง cd 06_Wifi-AP-Web-Server
      * 2.1.2 พิมพ์คำสั่ง vi src/main.cpp จะแสดงโค้ดของโปรแกรม ซึ่งประกอบไปด้วย 2 ส่วน
        
        ![image](https://github.com/Nongpim/picture/blob/main/6.0%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88.png)
        
        จาก src code ข้างต้น แสดงให้เห็นว่า ESP 01 มีไวไฟในตัวเอง โดยจะกำหนดชื่อ wifi และ password ก่อน ที่จะปล่อยให้เครื่องอื่น connect และมีการสร้าง IPAdress,gateway,subnet และเตรียมเว็บเซิร์ฟเวอร์
3. อัปโหลดโปรแกรม 06_Wifi-AP-Web-Server โดยพิมพ์คำสั่ง pio run -t upload
    * 3.1 ในขณะที่รันเพื่อให้ไมโครคอนโทรเลอร์รับโปรแกรมใหม่เข้าไป เราจะต้องกดปุ่มให้โหลด(ปุ่มสีดำ) แล้วกดปุ่มreset(ปุ่มสีแดง) เมื่อโปรแกรมโหลดเข้าไปในคอมพิวเตอร์ตัวจิ๋วนี้แล้ว
4. เมื่อโปรแกรมโหลดเสร็จแล้วจะขึ้นคำว่า SUCCESS ซึ่งต่อไปเราจะใช้คำสั่ง (pio device monitor) แล้วดูผลลัพธ์ที่แสดงผลใน monitor
   
   ![image](https://github.com/Nongpim/picture/blob/main/6.2%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88.jpg)

5. ลองใช้โทรศัพท์มือถือ หรือคอมพิวเตอร์ ค้นหาไวไฟที่สร้าง
   
   ![image](https://github.com/Nongpim/picture/blob/main/6.3%E0%B9%83%E0%B8%AB%E0%B8%A1%E0%B9%88.jpg)
   
## การบันทึกผลการทดลอง
จากใช้คำสั่ง pio device monitor จะทำให้เราทราบว่า
1. ผลลัพธ์จะแสดงผลในหน้าจอ monitor โดยขึ้นคำว่า ver started และตรวจสอบผลลัพธ์จากการสร้างไวไฟด้วยการหาชื่อไวไฟด้วยโทรศัพท์มือถือ ซึ่งจากการค้นหาไวไฟในโทรศัพท์มือถือ ทำให้เราพบไวไฟที่เราสร้างจากการเขียนโปรแกรม(TUENG-ESP-WIFI)

## อภิปรายผลการทดลอง
จากการทดลองนี้ เราสามารถสรุปได้ว่า เราจะสามารถสร้างไวไฟแอคเซสพอยด์ขึ้นมาเองเพื่อให้ผู้อื่นมาเชื่อมต่อได้

## คำถามหลังการทดลอง
1. ประโยชน์ของไวไฟแอคเซสพอยด์มีอะไรบ้าง
* ตอบ เราสามารถนำอุปกรณ์ที่รับสัญญาณ wireless ไปใช้งานตรงไหนก็ได้ โดยที่ AP อยู่โดยไม่ต้องเดินสายแลนไปเชื่อมต่ออุปกรณ์นั้นๆ
