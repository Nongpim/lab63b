# การทดลองที่ ๒ เรื่อง การเขียนโปรแกรมค้นหาไวไฟ

## วัตถุประสงค์
1. เพื่อศึกษาการเขียนโปรแกรมค้นหาสัญญาณไวไฟรอบๆตัว
2. เพื่อศึกษาวิธีการรันโปรแกรมในไมโครคอนโทรเลอร์

## อุปกรณ์ที่ใช้
1. ไมโครคอนโทรเลอร์
2. อุปกรณ์ USB to Serial
3. CPU
4. เสาอากาศสำหรับไวไฟ

## ศึกษาข้อมูลเบื้องต้น
1. 02 run example 2 https://youtu.be/yBjab0UNuB8
2. ความรู้เกี่ยวกับ ESP-01 microcontroller : https://docs.platformio.org/en/latest/boards/espressif8266/esp01_1m.html
3. ความรู้เกี่ยวกับ platformio : https://platformio.org/
4. ความรู้เกี่ยวกับ iotset1 : https://youtu.be/9aF0upI9Gic

## วิธีการทำการทดลอง
1. นำไมโครคอนโทรเลอร์ไปต่ออุปกรณ์ USB to Serial แล้วเปิด command prompt เพื่อเขียนโปรแกรมเข้าไปในไมโครคอนโทรเลอร์
2. ดูตัวอย่างโปรแกรมที่จะเขียนในโฟลเดอร์ pattani
    * 2.1 พิมพ์คำสั่ง cd pattani เพื่อที่จะเข้าไปยังโฟลเดอร์
      * 2.1.1 ซึ่งในการทดลองนี้จะให้ใช้โปรแกรมตัวอย่างที่ 2 พิมพ์คำสั่ง cd 02_Scan-Wifi
      * 2.1.2 พิมพ์คำสั่ง vi src/main.cpp จะแสดงโค้ดของโปรแกรม ซึ่งประกอบไปด้วย 2 ส่วน
        *ใส่รูปภาพโค้ดของจาน
3. อัปโหลดโปรแกรม 02_Scan-Wifi โดยพิมพ์คำสั่ง pio run -t upload
    * 3.1 ในขณะที่รันเพื่อให้ไมโครคอนโทรเลอร์รับโปรแกรมใหม่เข้าไป เราจะต้องกดปุ่มให้โหลด(ปุ่มสีดำ) แล้วกดปุ่มreset(ปุ่มสีแดง) เมื่อโปรแกรมโหลดเข้าไปในคอมพิวเตอร์ตัวจิ๋วนี้แล้ว
4. เมื่อโปรแกรมโหลดเสร็จแล้วจะขึ้นคำว่า SUCCESS ซึ่งต่อไปเราจะใช้คำสั่ง (pio device monitor) แล้วดูผลลัพธ์ที่แสดงผลใน monitor ซึ่งโปรแกรมจะเข้าไปทำงานโดยการค้นหาไวไฟรอบๆตัว
* (พร้อมภาพประกอบ)

## การบันทึกผลการทดลอง
จากใช้คำสั่ง pio device monitor จะทำให้เราทราบว่า
1. ผลลัพธ์จะแสดงผลในหน้าจอ monitor ซึ่งจะเห็นได้ว่า monitor จะแสดงสัญญาณไวไฟที่แสกนหาเจอออกมา ซึ่งไวไฟที่หาเจอนี้ขึ้นกับความแรงของสัญญาณไวไฟ ซึ่งเมื่อเราลองกดปุ่ม reset(ปุ่มสีแดง) ไมโครคอนโทรเลอร์จะ reset ตัวเองแล้วเริ่มค้นหาไวไฟใหม่อีกครั้ง
* (พร้อมตัวอย่าง)

## อภิปรายผลการทดลอง
จากการทดลองนี้ จะเห็นได้ว่าเมื่อเราอัปโหลดโปรแกรมค้นหาไวไฟ (02_Scan-Wifi) เข้าไปในไมโครคอนโทรเลอร์ แล้วใช้คำสั่ง pio device monitor ผลลัพธ์จะแสดงผลในหน้าจอซึ่งจะมีจำนวนไวไฟและชื่อไวไฟที่แสกนเจอ ตามโค้ดที่เราเขียนเข้าไปในโปรแกรม
## คำถามหลังการทดลอง
1. การที่เราแสกนเจอสัญญาณไวไฟ ขึ้นกับอะไรได้บ้าง
* ตอบ ขึ้นกับความแรงของสัญญาณไวไฟ

